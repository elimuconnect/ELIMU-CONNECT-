<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>STEMLa Smart Club ‚Äì Elimu Connect </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * { box-sizing: border-box; }
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #e0f7fa, #fce4ec);
    }
    #app {
      display: flex;
      flex-direction: column;
      height: 100%;
    }
    #toolbar {
      padding: 15px;
      background: #1976d2;
      color: white;
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 12px;
    }
    #toolbar button {
      background: white;
      color: #1976d2;
      padding: 12px 20px;
      border: none;
      border-radius: 30px;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    #toolbar button:hover {
      background: #f0f0f0;
    }
    #editor {
      flex: 1;
      padding: 40px 20px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .card {
      max-width: 800px;
      width: 100%;
      padding: 30px;
      background: white;
      border-radius: 25px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
      font-size: 1.4em;
      line-height: 1.8;
      font-weight: bold;
      animation: fadeIn 1s ease;
      overflow-wrap: break-word;
      word-break: break-word;
      color: #1a237e;
    }
    .card h2 {
      margin-top: 0;
      color: #d81b60;
      font-size: 1.6em;
      font-weight: bold;
    }
    .card pre {
      white-space: pre-wrap;
      overflow-wrap: break-word;
      word-break: break-word;
      font-size: 1.3em;
      line-height: 1.8;
      font-weight: bold;
      color: #1a237e;
    }
    #status {
      padding: 15px;
      background: #388e3c;
      color: white;
      font-weight: bold;
      text-align: center;
      font-size: 16px;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @media (max-width: 600px) {
      #toolbar { flex-direction: column; gap: 8px; padding: 10px; }
      #toolbar button { width: 100%; font-size: 16px; padding: 10px; }
      .card { padding: 20px; font-size: 1.2em; }
      .card h2 { font-size: 1.4em; }
      .card pre { font-size: 1.15em; }
      #status { font-size: 15px; padding: 10px; }
    }
  </style>
</head>
<body>

<div id="app">
  <div id="toolbar">
    <button onclick="startTutor()">‚ñ∂Ô∏è Start Club</button>
    <button onclick="prevLesson()">‚¨ÖÔ∏è Back</button>
    <button onclick="nextLesson()">‚û°Ô∏è Forward</button>
  </div>

  <div id="editor">
    <div class="card">
      <h2>Welcome to STEMLa Smart Club </h2>
     <p>Click "Start Club" to explore Elimu Connect: STEMLa Club weekly activities. Access coding, science, and innovation projects designed for schools ‚Äì anywhere, anytime.</p>

    </div>
  </div>

  <div id="status">‚è≥ Ready when you are!</div>
</div>

<script>
const lessonsArray = [

`Lesson 1: Mathematics ‚Äì Surds & Indices
Simplify:
((8x¬≥y‚Åµ √∑ 2xy¬≤)^(2/3)) √ó (x¬≤y¬≥)¬≥

A) 4^(2/3) ¬∑ x^(22/3) ¬∑ y^11
B) 2.52 ¬∑ x^(22/3) ¬∑ y^11
C) 8 ¬∑ x^8 ¬∑ y^12
D) 16 ¬∑ x^(10/3) ¬∑ y^5`,

`Lesson 2: Biology ‚Äì Human Digestive System
How do the villi and microvilli in the small intestine increase the efficiency of nutrient absorption?

A) They produce digestive enzymes that break down proteins only.
B) They increase surface area and contain blood vessels and lacteals for rapid uptake and transport of absorbed nutrients.
C) They secrete hormones that force nutrients into the bloodstream.
D) They act as valves to stop food from moving too quickly through the intestine.`,

`Lesson 3: Chemistry ‚Äì Chemical Bonding
Which statement correctly compares sodium chloride (NaCl) and water (H‚ÇÇO) and links the properties to bonding?

A) NaCl is an ionic solid with a high melting point and conducts when molten or in solution; water is a polar covalent liquid with hydrogen bonding and low electrical conductivity as a pure substance.
B) NaCl is a covalent liquid with hydrogen bonding; water is an ionic solid with a high melting point.
C) Both NaCl and water are ionic and therefore both conduct electricity as pure liquids at room temperature.
D) NaCl has weaker bonds than water and therefore has a lower melting point than water.`,

`Lesson 4: English ‚Äì Sentence Analysis
Identify the parts of speech in the sentence:
"Excitedly, the young girl opened the brightly wrapped gift on her birthday morning."

A) Excitedly (Adverb), the (Determiner), young (Adjective), girl (Noun), opened (Verb), the (Determiner), brightly (Adverb), wrapped (Adjective), gift (Noun), on (Preposition), her (Possessive Determiner), birthday (Noun), morning (Noun).
B) Excitedly (Adjective), the (Noun), young (Adverb), girl (Verb), opened (Noun), the (Conjunction), brightly (Adjective), wrapped (Adverb), gift (Verb), on (Adjective), her (Pronoun), birthday (Adverb), morning (Preposition).
C) Excitedly (Adverb), the (Determiner), young (Noun), girl (Adjective), opened (Verb), the (Determiner), brightly (Adverb), wrapped (Noun), gift (Noun), on (Preposition), her (Pronoun), birthday (Noun), morning (Adverb).
D) Excitedly (Noun), the (Determiner), young (Adjective), girl (Noun), opened (Adverb), the (Determiner), brightly (Adverb), wrapped (Adjective), gift (Noun), on (Preposition), her (Possessive Determiner), birthday (Noun), morning (Noun).`,

`Lesson 5: Kiswahili ‚Äì Sarufi
Chagua sentensi ambayo imeandikwa kwa ufasaha sahihi wa Kiswahili.

A) Watoto walikimbia haraka sana kwenda sokoni
B) Watoto walikimbia haraka sana kwenda sokoni.
C) watoto walikimbia haraka sana kwenda sokoni.
D) Watoto walikibia haraka sana kwenda sokoni.`,

`Lesson 2: Introduction to HTML & Web Structure

Lesson Content:
HTML (Hypertext Markup Language) is the standard language for creating web pages. It provides the basic structure of a webpage using elements (also called tags). 
Every HTML document begins with the &lt;!DOCTYPE html&gt; declaration, followed by the root element &lt;html&gt;. Inside the &lt;html&gt;, you have the &lt;head&gt; section for metadata and the &lt;body&gt; section for visible content.

Example HTML structure:
<pre>
&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;My First Webpage&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Welcome to My Website&lt;/h1&gt;
    &lt;p&gt;This is a paragraph of text.&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>

Q. Create a simple webpage, showing your name.`,

`Lesson 7: Final Answers & Explanations

‚úÖ Math Answer:
((8x¬≥y‚Åµ √∑ 2xy¬≤)^(2/3)) √ó (x¬≤y¬≥)¬≥  
= (4x¬≤y¬≥)^(2/3) √ó x‚Å∂y‚Åπ  
= 4^(2/3) x^(22/3) y¬π¬π  
‚âà 2.52 x^(22/3) y¬π¬π  
Correct option: A

‚úÖ Biology Answer:
Villi and microvilli increase the surface area of the small intestine, allowing more nutrients to be absorbed efficiently. Each villus contains blood vessels and lacteals that transport absorbed nutrients quickly into the circulatory system.  
Correct option: B

‚úÖ Chemistry Answer:
NaCl has ionic bonding ‚Üí solid, high melting point, conducts when molten/dissolved.  
H‚ÇÇO has covalent bonds ‚Üí liquid at room temp, hydrogen bonding, poor conductor.  
Correct option: A

‚úÖ English Answer:
Excitedly (Adverb), the (Determiner), young (Adjective), girl (Noun), opened (Verb), the (Determiner), brightly (Adverb), wrapped (Adjective), gift (Noun), on (Preposition), her (Possessive Determiner), birthday (Noun), morning (Noun).  
Correct option: A

‚úÖ Kiswahili Answer:
Sentensi sahihi ni: "Watoto walikimbia haraka sana kwenda sokoni."  
Hii ndiyo inafuata ufasaha wa Kiswahili kwa neno *kwenda sokoni*.  
Correct option: B
‚úÖHTML ANSWER:
<pre>
&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;WEBPAGE&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Welcome to My Website&lt;/h1&gt;
    &lt;p&gt;My name is Solomon.&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>`
];

let currentLesson = 0;
let tutorStarted = false;
let selectedVoice = null;

const editor = document.getElementById("editor");
const status = document.getElementById("status");

function getVoice() {
  const voices = speechSynthesis.getVoices();
  return voices.find(v =>
    v.lang.toLowerCase().startsWith("en-ke") && v.name.toLowerCase().includes("female")
  ) || voices.find(v =>
    v.lang.toLowerCase().startsWith("en-ke")
  ) || voices.find(v =>
    v.lang.toLowerCase().startsWith("en-ng") && v.name.toLowerCase().includes("female")
  ) || voices.find(v =>
    v.lang.toLowerCase().startsWith("en-ng")
  ) || voices.find(v =>
    v.lang.toLowerCase().startsWith("en-us") && v.name.toLowerCase().includes("female")
  ) || voices.find(v =>
    v.lang.toLowerCase().startsWith("en")
  ) || voices[0];
}

function speak(text, onEnd) {
  speechSynthesis.cancel();
  const utter = new SpeechSynthesisUtterance(text);
  utter.voice = selectedVoice;
  utter.rate = 0.88;
  utter.onend = () => onEnd && onEnd();
  speechSynthesis.speak(utter);
}

function showLesson(index) {
  if (index >= lessonsArray.length) {
    editor.innerHTML = `<div class="card"><h2>‚úÖ All Activities Complete</h2><p>You‚Äôre done! Visit STEMLa Club again next week for new activities. You can also download more CBC resources on Elimu Connect App.</p></div>`;
    status.textContent = "‚úÖ Done.";
    return;
  }

  const lesson = lessonsArray[index];
  editor.innerHTML = `
    <div class="card">
      <pre>${lesson}</pre>
    </div>
  `;
  status.textContent = `üìñ Reading Lesson ${index + 1}`;
  speak(lesson, () => {
    currentLesson++;
    setTimeout(() => showLesson(currentLesson), 300000); // ‚è≥ 5 minutes wait
  });
}

function startTutor() {
  if (tutorStarted) return;
  tutorStarted = true;

  speechSynthesis.onvoiceschanged = () => {
    selectedVoice = getVoice();
  };

  const voiceCheck = setInterval(() => {
    const voices = speechSynthesis.getVoices();
    if (voices.length > 0) {
      clearInterval(voiceCheck);
      selectedVoice = getVoice();
      showLesson(currentLesson);
    }
  }, 200);

  status.textContent = "üü¢ Loading voice & starting...";
}

function nextLesson() {
  if (currentLesson < lessonsArray.length - 1) {
    currentLesson++;
    showLesson(currentLesson);
  }
}

function prevLesson() {
  if (currentLesson > 0) {
    currentLesson--;
    showLesson(currentLesson);
  }
}
</script>

</body>
</html>
